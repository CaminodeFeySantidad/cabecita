<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Ver Transmisión</title>
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
</head>
<body>
  <h2>Viéndolo en vivo</h2>
  <video id="video" autoplay playsinline style="width:100%; max-width:800px;"></video>

  <input id="idInput" placeholder="ID del transmisor">
  <button onclick="connect()">Ver</button>

  <script>
    const peer = new Peer({
      host: '0.peerjs.com',
      port: 443,
      secure: true,
      path: '/peerjs'
    });

    function connect() {
      const id = document.getElementById("idInput").value;
      const call = peer.call(id, null);
      call.on("stream", (stream) => {
        document.getElementById("video").srcObject = stream;
      });
    }
  </script>
</body>
</html>
